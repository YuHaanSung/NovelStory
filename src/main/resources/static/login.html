<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ë…¸ë²¨ìŠ¤í† ë¦¬ - ë¡œê·¸ì¸</title>
    <style>
        body { font-family: 'Arial', sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; background-color: #f0f2f5; margin: 0; }
        .container { background: white; padding: 2.5rem; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); width: 350px; text-align: center; }
        h2 { color: #333; margin-bottom: 20px; }
        input { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box; }
        button { width: 100%; padding: 12px; background-color: #28a745; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 16px; margin-top: 10px; }
        button:hover { background-color: #218838; }
        .link { margin-top: 15px; font-size: 14px; }
        .link a { color: #007bff; text-decoration: none; }
    </style>
</head>
<body>

<div class="container">
    <h2>ğŸ”‘ ë¡œê·¸ì¸</h2>
    <input type="text" id="loginId" placeholder="ì•„ì´ë””">
    <input type="password" id="loginPassword" placeholder="ë¹„ë°€ë²ˆí˜¸">
    <button onclick="login()">ë¡œê·¸ì¸ í•˜ê¸°</button>

    <div class="link">
        ê³„ì •ì´ ì—†ìœ¼ì‹ ê°€ìš”? <a href="index.html">íšŒì›ê°€ì… í•˜ëŸ¬ê°€ê¸°</a>
    </div>
</div>

<script>
    function login() {
        // 1. ì…ë ¥í•œ ì•„ì´ë””/ë¹„ë²ˆ ê°€ì ¸ì˜¤ê¸°
        const data = {
            id: document.getElementById('loginId').value,
            password: document.getElementById('loginPassword').value
        };

        // 2. ë°±ì—”ë“œ ë¡œê·¸ì¸ API(/api/login)ë¡œ ì˜ê¸°
        fetch('/api/login', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(data)
        })
            .then(response => response.text()) // ì„œë²„ ì‘ë‹µ(ë¬¸ìì—´) ë°›ê¸°
            .then(message => {
                if(message.includes("ì„±ê³µ")) {
                    // [ì¶”ê°€ëœ ë¶€ë¶„] ë¡œê·¸ì¸ ì„±ê³µí•œ ì•„ì´ë””ë¥¼ ë¸Œë¼ìš°ì €ì— ì €ì¥!
                    const loginId = document.getElementById('loginId').value;
                    localStorage.setItem('loginAuthorId', loginId);

                    alert("ë¡œê·¸ì¸ ì„±ê³µ! ì‘ê°€ ìŠ¤íŠœë””ì˜¤ë¡œ ì´ë™í•©ë‹ˆë‹¤.");
                    window.location.href = 'writer_main.html';
                } else {
                    alert(message);
                }
            })
            .catch(error => {
                console.error('ì—ëŸ¬:', error);
                alert("ë¡œê·¸ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
            });
    }
</script>

</body>
</html>